{"version":3,"sources":["../src/modal.js"],"names":[],"mappings":"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","file":"modal.js","sourcesContent":["/* ========================================================================\n * Ratchet Plus: Modal.js v1.0.0\n * http://rc.kimsq.com/components/modal/\n * ========================================================================\n * inspired by @twbs's bootstrap & ratchet\n * Copyright 2016 redblock inc.\n * Author kiere (kiere@kimsq.com)\n * Licensed under MIT.\n * ======================================================================== */\n\n!(function ($) {\n  'use strict';\n\n      // Modal CLASS DEFINITION\n      // ======================\n\n      var Modal = function (element, options) {\n            this.options          = options\n            this.$body            = $(document.body)\n            this.$element       = $(element)\n            this.title               = this.options.title?this.options.title:null\n            this.url               = this.options.url?this.options.url:null\n            this.isShown             = null\n     }\n     \n      // require tab.js & history.js & utilty.js    \n     if (!$.fn.tap || window.History==\"undefined\" || window.Utility==\"undefined\") throw new Error('Modal requires tab.js, history.js and utility.js')  \n\n      Modal.VERSION  = '1.0.0'\n      Modal.DEFAULTS = {\n            show: true,\n            afterModal : true,\n            history : true\n      }\n\n      Modal.prototype.toggle = function (_relatedTarget) {\n            return this.isShown ? this.hide() : this.show(_relatedTarget)\n      }\n \n      Modal.prototype.show = function (_relatedTarget) {\n            var $this = this\n            var e    = $.Event('show.rc.modal', { relatedTarget: _relatedTarget })\n            var title =this.title;\n            var modal=this.options.target?this.options.target:'#'+this.$element.attr('id'); // 엘리먼트 클릭(target) & script 오픈 2 가지 \n            var url =this.url;\n            if(url!=null) url=url.toString();\n            var animation=this.options.animation?this.options.animation:'';\n            var template=this.options.template;\n            var tplContainer=this.options.tplcontainer?modal+' '+this.options.tplcontainer:modal;\n            this.$element.trigger(e);\n            this.isShown = true\n      \n           // init Utility\n            var utility=new Utility(modal,this.options).init();  \n            if(!template){\n                 utility.setdataVal(modal,$this.options); // data 값 세팅하는 전용함수 사용한다.\n            }else{ \n               $(tplContainer).load(template,$.proxy(function(){\n                    utility.setdataVal(modal,$this.options); // data 값 세팅하는 전용함수 사용한다. \n                    this.afterTemplate(this,_relatedTarget);\n               },this));   \n            }\n\n            this.$element.on('tap.dismiss.rc.modal', '[data-dismiss=\"modal\"]', $.proxy(this.hide, this)) \n             \n            this.$element.addClass(animation); // 에니메이션 적용\n            $(modal).show();\n            setTimeout(function(){$(modal).addClass('active')}, 0);\n            if(this.options.history){\n                // 브라우저 history 객체에 추가 \n                var object = {'type': 'modal','target': modal}\n                utility.addHistoryObject(object,title,url);  \n            }\n          \n           this.afterModal(this,_relatedTarget);              \n      }\n\n      Modal.prototype.afterTemplate=function(obj,_relatedTarget){\n            var e = $.Event('loaded.rc.modal', { relatedTarget: _relatedTarget })\n            obj.$element.trigger('focus').trigger(e);  \n      }\n\n      Modal.prototype.afterModal=function(obj,_relatedTarget){\n            var e = $.Event('shown.rc.modal', { relatedTarget: _relatedTarget })\n            obj.$element.trigger('focus').trigger(e);\n      }\n\n      Modal.prototype.hide = function (e) {\n           if(this.options.history) history.back();\n           else this.nonHistoryHide();\n      }\n     \n     Modal.prototype.historyHide = function (e) {\n            this.isShown = false\n            if (e) e.preventDefault()\n            var e    = $.Event('hide.rc.modal');\n            this.$element.trigger(e) \n            this.afterHide();\n      }\n\n      Modal.prototype.nonHistoryHide = function () {\n            this.isShown = false\n            var modal=this.$element;\n            var e    = $.Event('hide.rc.modal');\n            $(modal).trigger(e)\n            $(modal).removeClass('active');\n            setTimeout(function(){$(modal).hide();},300); \n            this.afterHide();\n      }\n\n      Modal.prototype.afterHide=function(){\n           var e = $.Event('hidden.rc.modal');\n           this.$element.trigger(e);     \n      }\n\n      var old = $.fn.modal\n\n      $.fn.modal             = Plugin\n      $.fn.modal.Constructor = Modal\n\n\n        // MODAL NO CONFLICT\n        // =================\n\n      $.fn.modal.noConflict = function () {\n            $.fn.modal = old\n            return this\n      }\n\n      // MODAL PLUGIN DEFINITION\n      // =======================\n\n      function Plugin(option, _relatedTarget) {\n            return this.each(function () {\n                var $this   = $(this)\n                var options = $.extend({}, Modal.DEFAULTS, $this.data(), typeof option == 'object' && option)\n                var data = new Modal(this, options)\n                if (typeof option == 'string' && option!='toggle') data[option](_relatedTarget)\n                else if (options.show) data.show(_relatedTarget)\n           })\n       }\n      \n      // MODAL DATA-API\n      // ==============\n       \n      $(document).on('tap.rc.modal.data-api', '[data-toggle=\"modal\"]', function (e) {\n          var $this   = $(this)\n          var href    = $this.attr('href')\n          var $target = $($this.attr('data-target') || (href && href.replace(/.*(?=#[^\\s]+$)/, ''))) // strip for ie7\n          var option  = $target.data('rc.modal') ? 'toggle' : $.extend({ remote: !/#/.test(href) && href }, $target.data(), $this.data())\n         \n          if ($this.is('a')) e.preventDefault()\n\n           $target.one('show.rc.modal', function (showEvent) {\n                  if (showEvent.isDefaultPrevented()) return // only register focus restorer if modal will actually get shown\n                  $target.one('hidden.rc.modal', function () {\n                   $this.is(':active') && $this.trigger('focus')\n                })\n            }) \n\n          Plugin.call($target, option, this)\n      })\n\n}(jQuery));"]}