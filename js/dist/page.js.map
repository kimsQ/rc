{"version":3,"sources":["../src/page.js"],"names":[],"mappings":"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","file":"page.js","sourcesContent":["/* ========================================================================\n * Ratchet Plus: Page.js v1.0.0\n * http://rc.kimsq.com/components/page/\n * ========================================================================\n * inspired by @twbs's bootstrap & ratchet\n * Copyright 2016 redblock inc.\n * Author kiere (kiere@kimsq.com)\n * Licensed under MIT.\n * ======================================================================== */\n\n!(function ($) {\n  'use strict';\n\n      // Page CLASS DEFINITION\n      // ======================\n\n      var Page = function (element, options) {\n          this.options          = options\n          this.$body            = $(document.body)\n          this.$element       = $(element)\n          this.title               = this.options.title?this.options.title:null\n          this.url               = this.options.url?this.options.url:null\n     }\n      \n     // require tab.js & history.js & utilty.js    \n     if (!$.fn.tap || window.History==\"undefined\" || window.Utility==\"undefined\") throw new Error('Page requires tab.js, history.js and utility.js') \n\n      Page.VERSION  = '1.0.0'\n      Page.DEFAULTS = {\n           show: true,\n           history : true\n      }\n        \n      // 페이지 호출   \n      Page.prototype.show = function (_relatedTarget) {\n            var $this = this;\n            var e    = $.Event('show.rc.page', { relatedTarget: _relatedTarget })\n            var title =this.title;\n            var startPage=this.options.start;\n            var loadPage=this.options.target?this.options.target:'#'+this.$element.attr('id');\n            var url =this.url; \n            if(url!=null) url=url.toString();\n            var transition=this.options.transition;\n            var template=this.options.template;\n            var tplContainer=this.options.tplcontainer?loadPage+' '+this.options.tplcontainer:loadPage;\n            this.$element.trigger(e);\n            this.isShown = true;\n        \n            var utility=new Utility(startPage,this.options).init();           \n            if(!template){\n                 utility.setdataVal(loadPage,$this.options); // data 값 세팅하는 전용함수 사용한다.\n            }else{\n                 $(tplContainer).load(template,function(){\n                       utility.setdataVal(loadPage,$this.options); // data 값 세팅하는 전용함수 사용한다.\n                       this.afterTemplate(this,_relatedTarget);\n                });  \n            }\n\n            this.$element.on('tap.dismiss.rc.page', '[data-dismiss=\"page\"]', $.proxy(this.hide, this))\n            \n            if(this.options.history){\n                var object = {'type': 'page', 'target':{'start': startPage,'load':loadPage,'transition':transition}};  // 페이지 정보 : object 구분값 , 현재 페이지, 로드 페이지, 방향 \n                utility.addHistoryObject(object,title,url);//  \n            }     \n            this.getPage(startPage,loadPage,transition); // 타겟 페이지 호출\n            this.afterPage(this,_relatedTarget); \n      }\n\n      Page.prototype.afterTemplate=function(obj,_relatedTarget){\n             var e = $.Event('loaded.rc.page', { relatedTarget: _relatedTarget })\n            obj.$element.trigger('focus').trigger(e);    \n      }\n\n      Page.prototype.afterPage=function(obj,_relatedTarget){\n            var e = $.Event('shown.rc.page', { relatedTarget: _relatedTarget })\n            obj.$element.trigger('focus').trigger(e); \n      }\n      \n      Page.prototype.hide=function(e){\n           if(this.options.history) history.back();\n           else this.nonHistoryHide();\n      }\n      \n      Page.prototype.historyHide=function(e){\n          this.isShown = false\n          if (e) e.preventDefault()\n          e = $.Event('hide.rc.page')\n          this.$element.trigger(e)\n          var CurrentIndex=History.getCurrentIndex();\n          var ForwardIndex=parseInt(CurrentIndex)-1;\n          var ForwardObj=History.getStateByIndex(ForwardIndex); // 직전 object \n          var ForwardObj=JSON.stringify(ForwardObj);\n          var result=$.parseJSON(ForwardObj);\n          var objTarget=result.data.target; // modal, page, popover..의 id 정보\n          var startPage=objTarget.start;\n          var loadPage=objTarget.load;\n          var transition=objTarget.transition;\n          this.closePage(startPage,loadPage,transition);\n          this.afterHide(); \n      }\n\n     Page.prototype.nonHistoryHide = function () {\n            this.isShown = false\n            var sheet=this.$element;\n            var e    = $.Event('hide.rc.page');\n            $(sheet).trigger(e)\n            var startPage=this.options.start;\n            var loadPage=this.options.target?this.options.target:'#'+this.$element.attr('id');\n            var transition=this.options.transition;\n            this.closePage(startPage,loadPage,transition);\n            this.afterHide();\n      }\n   \n      Page.prototype.afterHide=function(e){\n            var e = $.Event('hidden.rc.page');\n           this.$element.trigger(e);   \n      }  \n     \n      // 슬라이딩으로 페이지 호출(열기) 함수     \n      Page.prototype.getPage=function(startPage,loadPage,transition){     \n            $(loadPage).attr('class','page right'); // 출발 위치 세팅 \n            $(loadPage).attr('class','page transition center'); // 출발위치에서 중앙으로 이동 \n            $(startPage).attr('class','page transition left'); // start 페이지는 반대로 이동 \n      }\n\n      // 슬라이딩으로 페이지 닫기 함수     \n      Page.prototype.closePage=function(startPage,loadPage,transition){     \n            $(startPage).attr('class','page left'); // 출발 위치 세팅 \n            $(startPage).attr('class','page transition center'); // 출발위치에서 중앙으로 이동 \n            $(loadPage).attr('class','page transition right'); // start 페이지는 반대로 이동 \n      }  \n       \n      var old = $.fn.page\n\n      $.fn.page             = Plugin\n      $.fn.page.Constructor = Page\n\n\n        // page NO CONFLICT\n        // =================\n\n        $.fn.page.noConflict = function () {\n          $.fn.page = old\n          return this\n        }\n\n      // MODAL PLUGIN DEFINITION\n      // =======================\n\n      function Plugin(option, _relatedTarget) {\n            return this.each(function () {\n                  var $this   = $(this)\n                  var options = $.extend({}, Page.DEFAULTS, $this.data(), typeof option == 'object' && option)\n                  var data = new Page(this, options)\n                  if (typeof option == 'string' && option!='toggle') data[option](_relatedTarget)\n                  else if (options.show) data.show(_relatedTarget); \n            })\n       }\n      \n      // Page DATA-API\n      // ==============\n\n      $(document).on('tap.rc.page.data-api', '[data-toggle=\"page\"]', function (e) {\n          var $this   = $(this)\n          var href    = $this.attr('href')\n          var $target = $($this.attr('data-target') || (href && href.replace(/.*(?=#[^\\s]+$)/, ''))) // strip for ie7\n          var option  = $target.data('rc.page') ? 'toggle' : $.extend({ remote: !/#/.test(href) && href }, $target.data(), $this.data())\n     \n          if ($this.is('a')) e.preventDefault()\n           $target.one('show.rc.page', function (showEvent) {\n                  if (showEvent.isDefaultPrevented()) return // only register focus restorer if modal will actually get shown\n                  $target.one('hidden.rc.page', function () {\n                   $this.is(':active') && $this.trigger('focus')\n                })\n            }) \n          Plugin.call($target, option, this)\n      })\n\n}(jQuery));"]}