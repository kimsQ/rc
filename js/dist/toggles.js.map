{"version":3,"sources":["../src/toggles.js"],"names":[],"mappings":"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","file":"toggles.js","sourcesContent":["/* ========================================================================\n * Ratchet: toggles.js v2.0.2\n * http://goratchet.com/components#toggles\n * ========================================================================\n   Adapted from Brad Birdsall's swipe\n * Copyright 2015 Connor Sears\n * Licensed under MIT (https://github.com/twbs/ratchet/blob/master/LICENSE)\n * ======================================================================== */\n\n!(function () {\n  'use strict';\n\n  var start     = {};\n  var touchMove = false;\n  var distanceX = false;\n  var toggle    = false;\n  var transformProperty = window.RATCHET.getBrowserCapabilities.transform;\n\n  var findToggle = function (target) {\n    var i;\n    var toggles = document.querySelectorAll('.toggle');\n\n    for (; target && target !== document; target = target.parentNode) {\n      for (i = toggles.length; i--;) {\n        if (toggles[i] === target) {\n          return target;\n        }\n      }\n    }\n  };\n\n  window.addEventListener('touchstart', function (e) {\n    e = e.originalEvent || e;\n\n    toggle = findToggle(e.target);\n\n    if (!toggle) {\n      return;\n    }\n\n    var handle      = toggle.querySelector('.toggle-handle');\n    var toggleWidth = toggle.clientWidth;\n    var handleWidth = handle.clientWidth;\n    var offset      = toggle.classList.contains('active') ? (toggleWidth - handleWidth) : 0;\n\n    start     = { pageX : e.touches[0].pageX - offset, pageY : e.touches[0].pageY };\n    touchMove = false;\n  });\n\n  window.addEventListener('touchmove', function (e) {\n    e = e.originalEvent || e;\n\n    if (e.touches.length > 1) {\n      return; // Exit if a pinch\n    }\n\n    if (!toggle) {\n      return;\n    }\n\n    var handle      = toggle.querySelector('.toggle-handle');\n    var current     = e.touches[0];\n    var toggleWidth = toggle.clientWidth;\n    var handleWidth = handle.clientWidth;\n    var offset      = toggleWidth - handleWidth;\n\n    touchMove = true;\n    distanceX = current.pageX - start.pageX;\n\n    if (Math.abs(distanceX) < Math.abs(current.pageY - start.pageY)) {\n      return;\n    }\n\n    e.preventDefault();\n\n    if (distanceX < 0) {\n      return (handle.style[transformProperty] = 'translate3d(0,0,0)');\n    }\n    if (distanceX > offset) {\n      return (handle.style[transformProperty] = 'translate3d(' + offset + 'px,0,0)');\n    }\n\n    handle.style[transformProperty] = 'translate3d(' + distanceX + 'px,0,0)';\n\n    toggle.classList[(distanceX > (toggleWidth / 2 - handleWidth / 2)) ? 'add' : 'remove']('active');\n  });\n\n  window.addEventListener('touchend', function (e) {\n    if (!toggle) {\n      return;\n    }\n\n    var handle      = toggle.querySelector('.toggle-handle');\n    var toggleWidth = toggle.clientWidth;\n    var handleWidth = handle.clientWidth;\n    var offset      = (toggleWidth - handleWidth);\n    var slideOn     = (!touchMove && !toggle.classList.contains('active')) || (touchMove && (distanceX > (toggleWidth / 2 - handleWidth / 2)));\n\n    if (slideOn) {\n      handle.style[transformProperty] = 'translate3d(' + offset + 'px,0,0)';\n    } else {\n      handle.style[transformProperty] = 'translate3d(0,0,0)';\n    }\n\n    toggle.classList[slideOn ? 'add' : 'remove']('active');\n\n    e = new CustomEvent('toggle', {\n      detail: {\n        isActive: slideOn\n      },\n      bubbles: true,\n      cancelable: true\n    });\n\n    toggle.dispatchEvent(e);\n\n    touchMove = false;\n    toggle    = false;\n  });\n\n}());\n"]}